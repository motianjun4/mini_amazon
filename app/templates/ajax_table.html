{%macro ajax_table(id, data)%}
<div>
    <table id="table_{{id}}">
    </table>
</div>
<script type="text/javascript" src="{{ url_for('static', filename='js/datatable_config.js') }}"></script>
<script type="text/javascript" >
    let config = window.datatable_config['{{id}}']
    let data = {{data|tojson|safe}}

    $("#table_{{id}}").DataTable({
        data:data,
        columns: config
    })
    
</script>

{%endmacro%}